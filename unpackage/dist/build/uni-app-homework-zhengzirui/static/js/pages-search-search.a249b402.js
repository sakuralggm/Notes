(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"06cc":function(e,t,a){"use strict";a.r(t);var n=a("a4c8"),i=a("b270");for(var c in i)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c);a("9e0d");var r=a("f0c5"),o=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"c39af1ce",null,!1,n["a"],void 0);t["default"]=o.exports},"06e2":function(e,t,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("c775")),c=n(a("7904")),r=n(a("a266")),o={en:i.default,"zh-Hans":c.default,"zh-Hant":r.default};t.default=o},"14df":function(e,t,a){"use strict";a.r(t);var n=a("8df0"),i=a("8d43");for(var c in i)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(c);a("395f");var r=a("f0c5"),o=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"487feab8",null,!1,n["a"],void 0);t["default"]=o.exports},"395f":function(e,t,a){"use strict";var n=a("cf92"),i=a.n(n);i.a},"3f7e":function(e,t,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a9e3");var i=a("37dc"),c=n(a("06e2")),r=(0,i.initVueI18n)(c.default),o=r.t,s={name:"UniSearchBar",emits:["input","update:modelValue","clear","cancel","confirm","blur","focus"],props:{placeholder:{type:String,default:""},radius:{type:[Number,String],default:5},clearButton:{type:String,default:"auto"},cancelButton:{type:String,default:"auto"},cancelText:{type:String,default:"取消"},bgColor:{type:String,default:"#F8F8F8"},maxlength:{type:[Number,String],default:100},value:{type:[Number,String],default:""},modelValue:{type:[Number,String],default:""},focus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},data:function(){return{show:!1,showSync:!1,searchVal:""}},computed:{cancelTextI18n:function(){return this.cancelText||o("uni-search-bar.cancel")},placeholderText:function(){return this.placeholder||o("uni-search-bar.placeholder")}},watch:{value:{immediate:!0,handler:function(e){this.searchVal=e,e&&(this.show=!0)}},focus:{immediate:!0,handler:function(e){var t=this;if(e){if(this.readonly)return;this.show=!0,this.$nextTick((function(){t.showSync=!0}))}}},searchVal:function(e,t){this.$emit("input",e)}},methods:{searchClick:function(){var e=this;this.readonly||this.show||(this.show=!0,this.$nextTick((function(){e.showSync=!0})))},clear:function(){this.$emit("clear",{value:this.searchVal}),this.searchVal=""},cancel:function(){this.readonly||(this.$emit("cancel",{value:this.searchVal}),this.searchVal="",this.show=!1,this.showSync=!1,uni.hideKeyboard())},confirm:function(){uni.hideKeyboard(),this.$emit("confirm",{value:this.searchVal})},blur:function(){uni.hideKeyboard(),this.$emit("blur",{value:this.searchVal})},emitFocus:function(e){this.$emit("focus",e.detail)}}};t.default=s},"5bdd":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */uni-page-body[data-v-c39af1ce]{width:100%;height:100%;overflow:hidden}.content[data-v-c39af1ce]{background:#fffdff;margin-left:%?40?%;margin-right:%?40?%}.content .caption[data-v-c39af1ce]{margin-top:%?100?%;margin-bottom:%?50?%;color:#bfbdbf;font-size:%?28?%;font-weight:700}.content .scroll-Y[data-v-c39af1ce]{height:calc(100vh - %?380?%)}.content .searchResult[data-v-c39af1ce]{display:flex;flex-direction:column;justify-content:center;border-bottom:%?1?% solid #f6f4f6;height:calc(100% / 5)}.content .searchResult .title[data-v-c39af1ce]{color:#171517;font-size:%?30?%;font-weight:700;margin-bottom:%?5?%;text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical}.content .searchResult .detail[data-v-c39af1ce]{color:#c4c2c4;font-size:%?28?%;margin-bottom:%?5?%;text-overflow:-o-ellipsis-lastline;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical}.content .searchResult .posttime[data-v-c39af1ce]{width:-webkit-fit-content;width:fit-content;margin-left:%?5?%;background:#f6f4f6;color:#817f81;font-size:%?20?%;font-weight:700}.noResult[data-v-c39af1ce]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:%?400?%}.noResult uni-image[data-v-c39af1ce]{width:%?150?%;height:%?150?%}.noResult .text[data-v-c39af1ce]{margin-top:%?30?%;color:#dfdddf;font-size:%?40?%;font-weight:700}',""]),e.exports=t},7904:function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"请输入搜索内容"}')},"8d43":function(e,t,a){"use strict";a.r(t);var n=a("3f7e"),i=a.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(c);t["default"]=i.a},"8df0":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return n}));var n={uniIcons:a("6d66").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"uni-searchbar"},[a("v-uni-view",{staticClass:"uni-searchbar__box",style:{borderRadius:e.radius+"px",backgroundColor:e.bgColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.searchClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-searchbar__box-icon-search"},[e._t("searchIcon",[a("uni-icons",{attrs:{color:"#c0c4cc",size:"18",type:"search"}})])],2),e.show||e.searchVal?a("v-uni-input",{staticClass:"uni-searchbar__box-search-input",attrs:{focus:e.showSync,disabled:e.readonly,placeholder:e.placeholderText,maxlength:e.maxlength,"confirm-type":"search",type:"text"},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirm.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.blur.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.emitFocus.apply(void 0,arguments)}},model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}}):a("v-uni-text",{staticClass:"uni-searchbar__text-placeholder"},[e._v(e._s(e.placeholder))]),e.show&&("always"===e.clearButton||"auto"===e.clearButton&&""!==e.searchVal)&&!e.readonly?a("v-uni-view",{staticClass:"uni-searchbar__box-icon-clear",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}},[e._t("clearIcon",[a("uni-icons",{attrs:{color:"#c0c4cc",size:"20",type:"clear"}})])],2):e._e()],1),"always"===e.cancelButton||e.show&&"auto"===e.cancelButton?a("v-uni-text",{staticClass:"uni-searchbar__cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v(e._s(e.cancelTextI18n))]):e._e()],1)},c=[]},"949a":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.uni-searchbar[data-v-487feab8]{display:flex;flex-direction:row;position:relative;padding:10px}.uni-searchbar__box[data-v-487feab8]{display:flex;box-sizing:border-box;overflow:hidden;position:relative;flex:1;justify-content:center;flex-direction:row;align-items:center;height:36px;padding:5px 8px 5px 0}.uni-searchbar__box-icon-search[data-v-487feab8]{display:flex;flex-direction:row;padding:0 8px;justify-content:center;align-items:center;color:#b3b3b3}.uni-searchbar__box-search-input[data-v-487feab8]{flex:1;font-size:14px;color:#333}.uni-searchbar__box-icon-clear[data-v-487feab8]{align-items:center;line-height:24px;padding-left:8px;cursor:pointer}.uni-searchbar__text-placeholder[data-v-487feab8]{font-size:14px;color:#b3b3b3;margin-left:5px}.uni-searchbar__cancel[data-v-487feab8]{padding-left:10px;line-height:36px;font-size:14px;color:#333;cursor:pointer}',""]),e.exports=t},"9e0d":function(e,t,a){"use strict";var n=a("fa7b"),i=a.n(n);i.a},a266:function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"請輸入搜索內容"}')},a4c8:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return n}));var n={uniSearchBar:a("14df").default,uLoadmore:a("ff3c").default,uniDateformat:a("8ddb").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"search"},[a("uni-search-bar",{attrs:{focus:!0,placeholder:"搜索"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.goback.apply(void 0,arguments)}}}),e.searching?a("u-loadmore",{attrs:{status:"loading","loading-text":"正在努力搜索中",icon:!0}}):e._e(),!e.searching&&e.searchRes.length?a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"caption"},[e._v("搜索结果")]),a("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-y":"true"}},e._l(e.searchRes,(function(t){return a("v-uni-view",{key:t._id,staticClass:"searchResult",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goDetail(t._id)}}},[a("v-uni-view",{staticClass:"title"},[a("v-uni-rich-text",{attrs:{nodes:t.title}})],1),a("v-uni-view",{staticClass:"detail"},[a("v-uni-rich-text",{attrs:{nodes:t.text}})],1),a("v-uni-view",{staticClass:"posttime"},[a("uni-dateformat",{attrs:{date:t.posttime,format:"yyyy年MM月dd日 hh:mm:ss"}})],1)],1)})),1)],1):e._e(),e.searching||e.searchRes.length?e._e():a("v-uni-view",{staticClass:"noResult"},[a("v-uni-image",{attrs:{src:"/static//images/no-result.png",mode:"widthFix"}}),a("v-uni-view",{staticClass:"text"},[e._v("无搜索结果")])],1)],1)},c=[]},b270:function(e,t,a){"use strict";a.r(t);var n=a("ee96"),i=a.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(c);t["default"]=i.a},c775:function(e){e.exports=JSON.parse('{"uni-search-bar.cancel":"cancel","uni-search-bar.placeholder":"Search enter content"}')},cf92:function(e,t,a){var n=a("949a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("29c6ec04",n,!0,{sourceMap:!1,shadowMode:!1})},ee96:function(e,t,a){"use strict";(function(e){a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac1f"),a("841c"),a("4d63"),a("c607"),a("2c3e"),a("25f0"),a("d3b7"),a("159b"),a("5319"),a("c975"),a("fb6a");var i=n(a("c7eb")),c=n(a("1da1")),r={data:function(){return{searchRes:[],timer:null,searching:!1}},onLoad:function(){},methods:{getData:function(t){var a=this;return(0,c.default)((0,i.default)().mark((function n(){var c;return(0,i.default)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.callFunction({name:"getSearch",data:{keyword:t}});case 2:c=n.sent,a.searchRes=c.result.data;case 4:case"end":return n.stop()}}),n)})))()},goback:function(){uni.reLaunch({url:"/pages/index/index"})},inputChange:function(e){var t=this;null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.search(e),t.timer=null}),300)},search:function(e){var t=this;return(0,c.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return t.searchRes=[],a.abrupt("return");case 3:return t.searching=!0,a.next=6,t.getData(e);case 6:if(t.searchRes.length){a.next=9;break}return t.searching=!1,a.abrupt("return");case 9:n=new RegExp(e,"gi"),t.searchRes.forEach((function(t){t.title=t.title.replace(n,'<span style="color: #1d9bf0;">'.concat(e,"</span>"));var a=t.text.indexOf(e);a>15&&(t.text="..."+t.text.slice(a)),t.text=t.text.replace(n,'<span style="color: #1d9bf0;">'.concat(e,"</span>"))})),t.searching=!1;case 12:case"end":return a.stop()}}),a)})))()},goDetail:function(e){uni.navigateTo({url:"/pages/detail/detail?id=".concat(e)})}}};t.default=r}).call(this,a("a9ff")["default"])},fa7b:function(e,t,a){var n=a("5bdd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("9e160ab0",n,!0,{sourceMap:!1,shadowMode:!1})}}]);